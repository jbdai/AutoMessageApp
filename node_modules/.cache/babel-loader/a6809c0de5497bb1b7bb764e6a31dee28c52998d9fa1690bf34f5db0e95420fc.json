{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{FaMoon,FaSun,FaBell}from\"react-icons/fa\";import{db,collection,query,where,getDocs}from\"../firebase\";// Fix Firebase import\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TitleBar(){const[darkMode,setDarkMode]=useState(false);const[unreadMessages,setUnreadMessages]=useState(false);useEffect(()=>{async function fetchUnreadMessages(){try{const messagesQuery=query(collection(db,\"messages\"),where(\"status\",\"==\",\"unread\"));const snapshot=await getDocs(messagesQuery);setUnreadMessages(snapshot.docs.length>0);}catch(error){console.error(\"Error fetching unread messages:\",error);}}fetchUnreadMessages();},[]);const toggleDarkMode=()=>{setDarkMode(!darkMode);document.body.classList.toggle(\"dark-mode\",!darkMode);};return/*#__PURE__*/_jsxs(\"header\",{className:\"title-bar\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u2728 AutoMessageApp \\uD83D\\uDE80\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"title-icons\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"notification-icon\",children:[/*#__PURE__*/_jsx(FaBell,{}),unreadMessages&&/*#__PURE__*/_jsx(\"span\",{className:\"notification-badge\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"dark-mode-toggle\",onClick:toggleDarkMode,children:darkMode?/*#__PURE__*/_jsx(FaSun,{}):/*#__PURE__*/_jsx(FaMoon,{})})]})]});}export default TitleBar;","map":{"version":3,"names":["React","useEffect","useState","FaMoon","FaSun","FaBell","db","collection","query","where","getDocs","jsx","_jsx","jsxs","_jsxs","TitleBar","darkMode","setDarkMode","unreadMessages","setUnreadMessages","fetchUnreadMessages","messagesQuery","snapshot","docs","length","error","console","toggleDarkMode","document","body","classList","toggle","className","children","onClick"],"sources":["C:/Users/user/automessageapp/src/components/TitleBar.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { FaMoon, FaSun, FaBell } from \"react-icons/fa\";\nimport { db, collection, query, where, getDocs } from \"../firebase\"; // Fix Firebase import\n\nfunction TitleBar() {\n    const [darkMode, setDarkMode] = useState(false);\n    const [unreadMessages, setUnreadMessages] = useState(false);\n\n    useEffect(() => {\n        async function fetchUnreadMessages() {\n            try {\n                const messagesQuery = query(collection(db, \"messages\"), where(\"status\", \"==\", \"unread\"));\n                const snapshot = await getDocs(messagesQuery);\n                setUnreadMessages(snapshot.docs.length > 0);\n            } catch (error) {\n                console.error(\"Error fetching unread messages:\", error);\n            }\n        }\n\n        fetchUnreadMessages();\n    }, []);\n\n    const toggleDarkMode = () => {\n        setDarkMode(!darkMode);\n        document.body.classList.toggle(\"dark-mode\", !darkMode);\n    };\n\n    return (\n        <header className=\"title-bar\">\n            <h1>âœ¨ AutoMessageApp ðŸš€</h1>\n            <div className=\"title-icons\">\n                <button className=\"notification-icon\">\n                    <FaBell />\n                    {unreadMessages && <span className=\"notification-badge\"></span>}\n                </button>\n                <button className=\"dark-mode-toggle\" onClick={toggleDarkMode}>\n                    {darkMode ? <FaSun /> : <FaMoon />}\n                </button>\n            </div>\n        </header>\n    );\n}\n\nexport default TitleBar;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,MAAM,CAAEC,KAAK,CAAEC,MAAM,KAAQ,gBAAgB,CACtD,OAASC,EAAE,CAAEC,UAAU,CAAEC,KAAK,CAAEC,KAAK,CAAEC,OAAO,KAAQ,aAAa,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErE,QAAS,CAAAC,QAAQA,CAAA,CAAG,CAChB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGf,QAAQ,CAAC,KAAK,CAAC,CAC/C,KAAM,CAACgB,cAAc,CAAEC,iBAAiB,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CAE3DD,SAAS,CAAC,IAAM,CACZ,cAAe,CAAAmB,mBAAmBA,CAAA,CAAG,CACjC,GAAI,CACA,KAAM,CAAAC,aAAa,CAAGb,KAAK,CAACD,UAAU,CAACD,EAAE,CAAE,UAAU,CAAC,CAAEG,KAAK,CAAC,QAAQ,CAAE,IAAI,CAAE,QAAQ,CAAC,CAAC,CACxF,KAAM,CAAAa,QAAQ,CAAG,KAAM,CAAAZ,OAAO,CAACW,aAAa,CAAC,CAC7CF,iBAAiB,CAACG,QAAQ,CAACC,IAAI,CAACC,MAAM,CAAG,CAAC,CAAC,CAC/C,CAAE,MAAOC,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,iCAAiC,CAAEA,KAAK,CAAC,CAC3D,CACJ,CAEAL,mBAAmB,CAAC,CAAC,CACzB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAO,cAAc,CAAGA,CAAA,GAAM,CACzBV,WAAW,CAAC,CAACD,QAAQ,CAAC,CACtBY,QAAQ,CAACC,IAAI,CAACC,SAAS,CAACC,MAAM,CAAC,WAAW,CAAE,CAACf,QAAQ,CAAC,CAC1D,CAAC,CAED,mBACIF,KAAA,WAAQkB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACzBrB,IAAA,OAAAqB,QAAA,CAAI,oCAAmB,CAAI,CAAC,cAC5BnB,KAAA,QAAKkB,SAAS,CAAC,aAAa,CAAAC,QAAA,eACxBnB,KAAA,WAAQkB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eACjCrB,IAAA,CAACP,MAAM,GAAE,CAAC,CACTa,cAAc,eAAIN,IAAA,SAAMoB,SAAS,CAAC,oBAAoB,CAAO,CAAC,EAC3D,CAAC,cACTpB,IAAA,WAAQoB,SAAS,CAAC,kBAAkB,CAACE,OAAO,CAAEP,cAAe,CAAAM,QAAA,CACxDjB,QAAQ,cAAGJ,IAAA,CAACR,KAAK,GAAE,CAAC,cAAGQ,IAAA,CAACT,MAAM,GAAE,CAAC,CAC9B,CAAC,EACR,CAAC,EACF,CAAC,CAEjB,CAEA,cAAe,CAAAY,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}