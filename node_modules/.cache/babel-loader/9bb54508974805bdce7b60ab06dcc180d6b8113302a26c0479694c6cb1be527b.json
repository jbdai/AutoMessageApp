{"ast":null,"code":"import React,{useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ComposeBox(_ref){let{setActiveSection,composeData,setComposeData,setGeneratedMessage}=_ref;const[loading,setLoading]=useState(false);const handleInputChange=e=>{setComposeData({...composeData,[e.target.name]:e.target.value});};const handleCompose=async()=>{setLoading(true);try{const response=await fetch(\"https://api.openai.com/v1/chat/completions\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":`Bearer ${process.env.REACT_APP_OPENAI_API_KEY}`},body:JSON.stringify({model:\"gpt-4\",messages:[{role:\"user\",content:`Generate a message in ${composeData.language||\"English\"} with a ${composeData.theme||\"neutral\"} theme and ${composeData.tone||\"standard\"} tone. \n                            Word limit: ${composeData.wordCount||100}. \n                            Recipient: ${composeData.recipient||\"someone\"}, Sender: ${composeData.sender||\"someone\"}, Relationship: ${composeData.relationship||\"undefined\"}, \n                            Keywords: ${composeData.keywords||\"none\"}.`}]})});const data=await response.json();setLoading(false);if(data.choices&&data.choices.length>0){setGeneratedMessage(data.choices[0].message.content);setActiveSection(\"message\");}else{setGeneratedMessage(\"‚ö†Ô∏è Error generating message. Please try again.\");}}catch(error){setLoading(false);setGeneratedMessage(\"‚ö†Ô∏è Network error. Please check your internet connection.\");}};return/*#__PURE__*/_jsx(\"div\",{className:\"card compose-box\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Recipient (To)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"recipient\",placeholder:\"John Doe\",value:composeData.recipient||\"\",onChange:handleInputChange}),/*#__PURE__*/_jsx(\"label\",{children:\"Sender (From)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"sender\",placeholder:\"Jane Smith\",value:composeData.sender||\"\",onChange:handleInputChange})]}),/*#__PURE__*/_jsx(\"label\",{children:\"Keywords\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"keywords\",placeholder:\"birthday, celebration, happy\",value:composeData.keywords||\"\",onChange:handleInputChange}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Theme\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"theme\",placeholder:\"Birthday\",value:composeData.theme||\"\",onChange:handleInputChange}),/*#__PURE__*/_jsx(\"label\",{children:\"Tone\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"tone\",placeholder:\"Casual\",value:composeData.tone||\"\",onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Relationship\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"relationship\",placeholder:\"Friend\",value:composeData.relationship||\"\",onChange:handleInputChange}),/*#__PURE__*/_jsx(\"label\",{children:\"Language\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"language\",placeholder:\"English\",value:composeData.language||\"\",onChange:handleInputChange})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCompose,disabled:loading,children:loading?\"‚ú® Generating...\":\"üìù Compose\"})]})});}export default ComposeBox;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","ComposeBox","_ref","setActiveSection","composeData","setComposeData","setGeneratedMessage","loading","setLoading","handleInputChange","e","target","name","value","handleCompose","response","fetch","method","headers","process","env","REACT_APP_OPENAI_API_KEY","body","JSON","stringify","model","messages","role","content","language","theme","tone","wordCount","recipient","sender","relationship","keywords","data","json","choices","length","message","error","className","children","type","placeholder","onChange","onClick","disabled"],"sources":["C:/Users/user/automessageapp/src/components/ComposeBox.js"],"sourcesContent":["import React, { useState } from \"react\";\n\nfunction ComposeBox({ setActiveSection, composeData, setComposeData, setGeneratedMessage }) {\n    const [loading, setLoading] = useState(false);\n\n    const handleInputChange = (e) => {\n        setComposeData({\n            ...composeData,\n            [e.target.name]: e.target.value,\n        });\n    };\n\n    const handleCompose = async () => {\n        setLoading(true);\n\n        try {\n            const response = await fetch(\"https://api.openai.com/v1/chat/completions\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": `Bearer ${process.env.REACT_APP_OPENAI_API_KEY}`\n                },\n                body: JSON.stringify({\n                    model: \"gpt-4\",\n                    messages: [\n                        {\n                            role: \"user\",\n                            content: `Generate a message in ${composeData.language || \"English\"} with a ${composeData.theme || \"neutral\"} theme and ${composeData.tone || \"standard\"} tone. \n                            Word limit: ${composeData.wordCount || 100}. \n                            Recipient: ${composeData.recipient || \"someone\"}, Sender: ${composeData.sender || \"someone\"}, Relationship: ${composeData.relationship || \"undefined\"}, \n                            Keywords: ${composeData.keywords || \"none\"}.`\n                        }\n                    ],\n                }),\n            });\n\n            const data = await response.json();\n            setLoading(false);\n\n            if (data.choices && data.choices.length > 0) {\n                setGeneratedMessage(data.choices[0].message.content);\n                setActiveSection(\"message\");\n            } else {\n                setGeneratedMessage(\"‚ö†Ô∏è Error generating message. Please try again.\");\n            }\n        } catch (error) {\n            setLoading(false);\n            setGeneratedMessage(\"‚ö†Ô∏è Network error. Please check your internet connection.\");\n        }\n    };\n\n    return (\n        <div className=\"card compose-box\">\n            <div className=\"input-group\">\n                <div className=\"input-row\">\n                    <label>Recipient (To)</label>\n                    <input type=\"text\" name=\"recipient\" placeholder=\"John Doe\" value={composeData.recipient || \"\"} onChange={handleInputChange} />\n                    <label>Sender (From)</label>\n                    <input type=\"text\" name=\"sender\" placeholder=\"Jane Smith\" value={composeData.sender || \"\"} onChange={handleInputChange} />\n                </div>\n\n                <label>Keywords</label>\n                <input type=\"text\" name=\"keywords\" placeholder=\"birthday, celebration, happy\" value={composeData.keywords || \"\"} onChange={handleInputChange} />\n\n                <div className=\"input-row\">\n                    <label>Theme</label>\n                    <input type=\"text\" name=\"theme\" placeholder=\"Birthday\" value={composeData.theme || \"\"} onChange={handleInputChange} />\n                    <label>Tone</label>\n                    <input type=\"text\" name=\"tone\" placeholder=\"Casual\" value={composeData.tone || \"\"} onChange={handleInputChange} />\n                </div>\n\n                <div className=\"input-row\">\n                    <label>Relationship</label>\n                    <input type=\"text\" name=\"relationship\" placeholder=\"Friend\" value={composeData.relationship || \"\"} onChange={handleInputChange} />\n                    <label>Language</label>\n                    <input type=\"text\" name=\"language\" placeholder=\"English\" value={composeData.language || \"\"} onChange={handleInputChange} />\n                </div>\n\n                <button onClick={handleCompose} disabled={loading}>\n                    {loading ? \"‚ú® Generating...\" : \"üìù Compose\"}\n                </button>\n            </div>\n        </div>\n    );\n}\n\nexport default ComposeBox;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}